## Taxes and Tariffs Reproducibility Package 

This folder contains the reproducibility package for the Research Paper "Taxes and Tariffs" by Dylan Thomas, Umar Bilgrammi, and Kathryn Sarrge

### Computational Requirements
- Stata (code was last run with version 16)
- The code was last run on a **Windows 10 computer with 32.0 GB of RAM**

## Table of Contents
1. [Introduction](#introduction)  
2. [Data Description and Accessing](#data-description)  
3. [Datasets and Do Files](#Datasets-and-Do-Files)  
4. [Access and Licensing](#access-and-licensing)  
5. [Code for Reproducibility](#code-for-reproducibility)  
6. [Outputs](#outputs)

## Introduction

This Reproducibility package will describe our project files, data, variables, the terminology used in the report, and outputs in great detail. It is designed to organize and keep all files in one place for ease of reproducibility. The table of contents is a good guide to click on and break the project into sections, although we recommend going from item to item in order. 

## Data Description and Accessing 

List of all variables 
- Consumption tax
  -  A variable used in the consumption tax dataset which represents the percent of revenue that consumption tax generates for a country within a given year. This variable represents the tax side of the project. This variable is also observed in the final data set and is used to generate figures seen in the output section. (Section #6)
- International Tax
  - A variable used in the international data set describes the percentage of revenue generated by international tax for a given country within a given year. It represents the tariffs side of the project. The variable is also observed in the final data set and is used to generate figures seen in the output section. (Section #6)
- GDP Per Capita
  - This variable is observed in the GDPdataset.xlsx. It is not a primary variable. This variable is used to sort countries into developing and developed based on a cutoff of $12,000. The variable appears in the final dataset due to this cutoff used to sort countries but is not used in any correlation tests.

Each of these variables comes from its own unique dataset found on the World Integrated Trade Solution Website (WITS). Follow the directions below to access the data. 

IMPORTANT: To download this raw data, use the links above to access the datasets on the WITS website. Then, click the light grey button that has an arrow pointing downwards in the top right of the table. This will create an Excel file download. Download the Excel file and use the import feature in stata to load the data into stata. Do not important any variables as strings or change any row names to strings. This is important for reshaping the data for later. 

Links to download the data set are found here: 

- Consumption Tax Variable 
  - [Taxes on Goods and Services](https://wits.worldbank.org/CountryProfile/en/Country/BY-COUNTRY/StartYear/1988/EndYear/2022/Indicator/GC-TAX-GSRV-VA-ZS)
 
- International Tax Variable
  - [Taxes on international trade](https://wits.worldbank.org/CountryProfile/en/Country/BY-COUNTRY/StartYear/1988/EndYear/2022/Indicator/GC-TAX-INTT-RV-ZS)
 
- GDP Per Capita Variable
  - [GDP per capita](https://wits.worldbank.org/CountryProfile/en/Country/BY-COUNTRY/StartYear/1988/EndYear/2022/Indicator/NY-GDP-PCAP-PP-CD)

Alternatively, you can download our raw data Excel sheets here: 

Each of the variables mentioned above have their own data set found in the raw_data folder linked here: [raw_data](https://github.com/ecn310/course-project-taxes-tariffs/tree/main/Reproducibility_Package/raw_data) they are labeled:
- [internationaldataset.xlsx]([url](https://github.com/ecn310/course-project-taxes-tariffs/blob/main/Reproducibility_Package/raw_data/internationaldataset.xlsx))
- [consumptiontaxdataset.xlsx]([url](https://github.com/ecn310/course-project-taxes-tariffs/blob/main/Reproducibility_Package/raw_data/consumptiondataset.xlsx))
- [GDPdataset.xlsx]([url](https://github.com/ecn310/course-project-taxes-tariffs/blob/main/Reproducibility_Package/raw_data/GDPdataset.xlsx))

## Datasets and Do Files

Now that raw data has been downloaded and accessed. The data must be reshaped from wide to long. You will notice that all of the years are imported from 1988-2022, creating a large table of values. The end goal is to essentially reshape the data from a wide table into a list of each country with each year and it's corresponding data entry. This allows for easier merging of data. To do so, each data file must be changed from it's raw data state into the final data state as seen in our Data_Files folder linked here: [Data_Files](https://github.com/ecn310/course-project-taxes-tariffs/tree/main/Reproducibility_Package/Data_Files)

[internationaltax.dta](Reproducibility_Package/Data_Files/internationaltax.dta): Describes the international tax variable by showing how much percent of revenue is generated by tariffs in a given country. 

The data is reshaped using this do file: [internationaltaxnew.do]([url](Reproducibility_Package/Do_Files/internationtaltaxnew.do))

[consumptiontaxreproducible.dta](Reproducibility_Package/Data_Files/consumptiontaxreproducible.dta): Describes the consumption tax variable by showing how much percent of revenue is generated by consumption tax in a given country. 

[gdpdata.dta](Reproducibility_Package/Data_Files/gdpdata.dta): This dataset contains data on GDP Per Capita for countries in terms of current US dollars (as of 2022) used to sort and organize countries into developing and developed. 

## Outputs
The provided code reproduces all the tables and figures in the paper.

| Exhibit | Input dataset | Program | Outputs |
|---------|---------------|---------|---------|
| Figure 1 | [sortedultimatemerge.dta]([url](https://github.com/ecn310/course-project-taxes-tariffs/blob/main/Reproducibility_Package/Data_Files/sortedultimatemerge.dta)) | [scatterplotconvsint.do]([url](https://github.com/ecn310/course-project-taxes-tariffs/blob/main/Reproducibility_Package/Do_Files/scatterplotconsvsint.do)) | Scatterplotintvscons.png |
| Figure 2 | sortedultimatemerge.dta | twowayhistintcons.do | twowayhistintcons.png |
| Figure 3 | sortedultimatemerge.dta | twowaydevelopinghistintcons.do | twowayhistdevelopingintcons.png |
| Figure 4 | sortedultimatemerge.dta | twowaydevelopedhistintcons.do | twowayhistdevelopedintcons.png |


